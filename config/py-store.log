2018-01-18 Thursday 00:49:10  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 00:49:10')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 00:49:10  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 00:49:10  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:49:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 00:49:11  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:49:12  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 00:49:12  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 00:49:12  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 00:49:15  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                  SELECT
                         si.brand_name,
                         si.model_name,
                         sum(left_number) AS sum,
                         max(julianday(date('now'))-julianday(bi.buy_date))
                    FROM buy_info bi,
                         stock_info si
                   WHERE bi.stock_id=si.id
                     AND bi.left_number > 0
                     AND julianday(date('now'))-julianday(bi.buy_date) >= 90          
                   GROUP BY si.model_id
2018-01-18 Thursday 00:49:15  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:49:15  main_view.py.main_view._tab_show: 271 : INFO  add tab：stock_unsalable_warning
2018-01-18 Thursday 00:51:09  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 00:51:09')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 00:51:09  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 00:51:09  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 00:51:10  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:11  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 00:51:11  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 00:51:11  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 00:51:20  main_view.py.main_view._tab_show: 271 : INFO  add tab：local_sale
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT
                      one.id   AS father_id,
                      one.name AS father_name,
                      two.id,
                      two.name,
                      two.attribute,
                      two.attributeState
                    FROM service one, service two
                    WHERE two.father = one.id
                      AND two.level = 2
                    ORDER BY one.name, two.name
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, BRAND_NAME FROM brand WHERE DELETE_STATE = 0 ORDER BY BRAND_NAME
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, MODEL_NAME, BRAND_ID FROM model WHERE DELETE_STATE = 0 ORDER BY MODEL_NAME
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, SUPPLIER_NAME FROM supplier WHERE DELETE_STATE = 0 ORDER BY SUPPLIER_NAME
2018-01-18 Thursday 00:51:22  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:22  main_view.py.main_view._tab_show: 271 : INFO  add tab：normal_buy_add
2018-01-18 Thursday 00:51:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                  SELECT
                         si.brand_name,
                         si.model_name,
                         sum(left_number) AS sum,
                         max(julianday(date('now'))-julianday(bi.buy_date))
                    FROM buy_info bi,
                         stock_info si
                   WHERE bi.stock_id=si.id
                     AND bi.left_number > 0
                     AND julianday(date('now'))-julianday(bi.buy_date) >= 90          
                   GROUP BY si.model_id
2018-01-18 Thursday 00:51:23  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:23  main_view.py.main_view._tab_show: 271 : INFO  add tab：stock_unsalable_warning
2018-01-18 Thursday 00:51:24  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 00:51:24  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:24  main_view.py.main_view._tab_show: 271 : INFO  add tab：return_visit
2018-01-18 Thursday 00:51:25  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 00:51:25  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:25  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:51:25  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:25  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 00:51:26  main_view.py.main_view._tab_show: 271 : INFO  add tab：sub_service_operation_data
2018-01-18 Thursday 00:51:28  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id, name FROM service WHERE level = 1 ORDER BY createdTime
2018-01-18 Thursday 00:51:28  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:28  main_view.py.main_view._tab_show: 271 : INFO  add tab：service_manage
2018-01-18 Thursday 00:51:29  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT
                      one.id   AS father_id,
                      one.name AS father_name,
                      two.id,
                      two.name,
                      two.attribute,
                      two.attributeState
                    FROM service one, service two
                    WHERE two.father = one.id
                      AND one.id = 2
                      AND two.level = 2
                    ORDER BY one.name, two.name
2018-01-18 Thursday 00:51:29  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT
                      one.id   AS father_id,
                      one.name AS father_name,
                      two.id,
                      two.name,
                      two.attribute,
                      two.attributeState
                    FROM service one, service two
                    WHERE two.father = one.id
                      AND one.id = 13
                      AND two.level = 2
                    ORDER BY one.name, two.name
2018-01-18 Thursday 00:51:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT
                      one.id   AS father_id,
                      one.name AS father_name,
                      two.id,
                      two.name,
                      two.attribute,
                      two.attributeState
                    FROM service one, service two
                    WHERE two.father = one.id
                      AND one.id = 15
                      AND two.level = 2
                    ORDER BY one.name, two.name
2018-01-18 Thursday 00:51:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT attribute_id, attribute_name
                  FROM service_item
                 WHERE service_id = 17
2018-01-18 Thursday 00:51:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:51:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT attribute_id, attribute_name
                  FROM service_item
                 WHERE service_id = 16
2018-01-18 Thursday 00:51:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:52:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 00:52:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:52:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:52:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:52:30  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 00:52:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:52:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:52:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:52:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:12  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 00:59:12')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 00:59:12  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 00:59:12  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:14  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 00:59:14  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:14  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 00:59:14  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 00:59:14  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 00:59:17  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 00:59:17  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:17  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:59:17  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:17  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 00:59:18  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:59:18  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:32  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 00:59:32  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 00:59:32  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 00:59:32  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:03:36  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 01:03:36')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 01:03:36  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 01:03:36  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 01:03:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 01:03:37  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:03:38  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 01:03:38  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:03:39  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 01:03:39  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 01:03:39  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 01:03:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 01:03:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:03:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 01:03:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:03:41  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 01:04:11  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 01:04:11')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 01:04:11  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 01:04:11  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:04:15  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 01:04:15  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:04:16  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 01:04:16  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 01:04:16  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 01:05:45  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 01:05:45')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 01:05:45  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 01:05:45  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:05:48  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 01:05:48  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:05:48  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 01:05:48  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 01:05:48  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 01:05:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 01:05:52  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:05:52  main_view.py.main_view._tab_show: 271 : INFO  add tab：return_visit
2018-01-18 Thursday 01:05:54  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 01:05:54  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:05:54  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 01:05:54  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:05:54  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 01:06:37  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 01:06:37')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 01:06:37  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 01:06:37  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:39  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 01:06:39  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:39  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 01:06:39  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 01:06:39  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 01:06:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 01:06:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 01:06:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:41  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 01:06:48  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 01:06:48  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:48  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 01:06:48  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 01:06:50  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 01:06:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 01:06:50  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:03  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 08:43:03')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 08:43:03  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 08:43:03  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:05  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 08:43:05  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:06  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 08:43:06  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 08:43:06  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 08:43:08  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:43:08  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:08  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:43:08  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:08  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 08:43:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:43:09  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:43:23  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:26  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:43:26  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:32  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:43:32  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:43:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:43:33  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:01  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:48:01  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:01  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:48:01  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:01  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 08:48:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:48:03  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:03  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:48:03  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:04  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:48:04  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:05  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:48:05  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:06  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:48:06  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:15  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                INSERT INTO PAYMENT_DETAIL(
                                BUY_ID,
                                PAYMENT_METHOD,
                                PAID,
                                UNPAID,
                                CREATE_TIME,
                                CREATE_OP,
                                refund_type,
                                supplier_id,
                                note
                               )
                VALUES (
                         13,
                         1,
                        620.00,
                        0.00,
                        '2018-01-18 08:48:15',
                         1,
                         1,
                         0,
                        ''
                       )
2018-01-18 Thursday 08:48:15  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:48:15  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                UPDATE buy_info
                   SET paid = 620.00,
                       unpaid = 0.00,
                       note = ''
                 WHERE id = 13
2018-01-18 Thursday 08:48:15  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:49:30  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 08:49:30')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 08:49:30  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 08:49:30  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 08:49:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 08:49:36  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:49:40  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 08:49:40  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:49:41  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 08:49:41  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 08:49:41  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 08:51:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:51:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:51:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:51:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:51:32  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 08:52:07  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                INSERT INTO PAYMENT_DETAIL(
                                BUY_ID,
                                PAYMENT_METHOD,
                                PAID,
                                UNPAID,
                                CREATE_TIME,
                                CREATE_OP,
                                refund_type,
                                supplier_id,
                                note
                               )
                VALUES (
                         13,
                         1,
                        620.00,
                        0.00,
                        '2018-01-18 08:52:07',
                         1,
                         1,
                         0,
                        ''
                       )
2018-01-18 Thursday 08:52:07  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                UPDATE buy_info
                   SET paid = 620.00,
                       unpaid = 0.00,
                       note = ''
                 WHERE id = 13
2018-01-18 Thursday 08:52:09  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:52:35  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:52:35  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:41  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 08:52:41')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 08:52:41  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 08:52:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:44  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 08:52:44  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:45  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 08:52:45  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 08:52:45  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 08:52:47  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:52:47  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:47  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:52:47  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:47  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 08:52:54  db_transaction_util.py.db_transaction_util.begin: 15 : INFO  事物已开启
2018-01-18 Thursday 08:52:56  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                INSERT INTO PAYMENT_DETAIL(
                                BUY_ID,
                                PAYMENT_METHOD,
                                PAID,
                                UNPAID,
                                CREATE_TIME,
                                CREATE_OP,
                                refund_type,
                                supplier_id,
                                note
                               )
                VALUES (
                         13,
                         1,
                        620.00,
                        0.00,
                        '2018-01-18 08:52:56',
                         1,
                         1,
                         0,
                        ''
                       )
2018-01-18 Thursday 08:52:56  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:52:58  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                UPDATE buy_info
                   SET paid = 620.00,
                       unpaid = 0.00,
                       note = ''
                 WHERE id = 13
2018-01-18 Thursday 08:52:58  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:53:21  supplier_payment_dialog.py.supplier_payment_dialog.do_pay: 81 : ERROR  unsupported operand type(s) for -: 'float' and 'decimal.Decimal'
2018-01-18 Thursday 08:53:21  db_transaction_util.py.db_transaction_util.rollback: 29 : INFO  回滚事物
2018-01-18 Thursday 08:53:21  db_transaction_util.py.db_transaction_util.rollback: 31 : INFO  事物已回滚
2018-01-18 Thursday 08:53:28  db_transaction_util.py.db_transaction_util.begin: 15 : INFO  事物已开启
2018-01-18 Thursday 08:53:28  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                INSERT INTO PAYMENT_DETAIL(
                                BUY_ID,
                                PAYMENT_METHOD,
                                PAID,
                                UNPAID,
                                CREATE_TIME,
                                CREATE_OP,
                                refund_type,
                                supplier_id,
                                note
                               )
                VALUES (
                         13,
                         1,
                        620.00,
                        0.00,
                        '2018-01-18 08:53:28',
                         1,
                         1,
                         0,
                        ''
                       )
2018-01-18 Thursday 08:53:28  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:53:29  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                UPDATE buy_info
                   SET paid = 620.00,
                       unpaid = 0.00,
                       note = ''
                 WHERE id = 13
2018-01-18 Thursday 08:53:29  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:53:34  supplier_payment_dialog.py.supplier_payment_dialog.do_pay: 81 : ERROR  unsupported operand type(s) for -: 'float' and 'decimal.Decimal'
2018-01-18 Thursday 08:53:34  db_transaction_util.py.db_transaction_util.rollback: 29 : INFO  回滚事物
2018-01-18 Thursday 08:53:34  db_transaction_util.py.db_transaction_util.rollback: 31 : INFO  事物已回滚
2018-01-18 Thursday 08:56:33  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 08:56:33')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 08:56:33  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 08:56:33  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 08:56:34  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 08:56:34  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:56:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 08:56:35  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:56:35  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 08:56:35  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 08:56:35  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 08:56:38  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:56:38  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:56:38  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:56:38  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:56:38  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 08:56:46  db_transaction_util.py.db_transaction_util.begin: 15 : INFO  事物已开启
2018-01-18 Thursday 08:56:46  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                INSERT INTO PAYMENT_DETAIL(
                                BUY_ID,
                                PAYMENT_METHOD,
                                PAID,
                                UNPAID,
                                CREATE_TIME,
                                CREATE_OP,
                                refund_type,
                                supplier_id,
                                note
                               )
                VALUES (
                         13,
                         1,
                        620.00,
                        0.00,
                        '2018-01-18 08:56:46',
                         1,
                         1,
                         0,
                        ''
                       )
2018-01-18 Thursday 08:56:46  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:56:46  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                UPDATE buy_info
                   SET paid = 620.00,
                       unpaid = 0.00,
                       note = ''
                 WHERE id = 13
2018-01-18 Thursday 08:56:46  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:56:52  supplier_payment_dialog.py.supplier_payment_dialog.do_pay: 81 : ERROR  unsupported operand type(s) for -: 'float' and 'decimal.Decimal'
2018-01-18 Thursday 08:56:52  db_transaction_util.py.db_transaction_util.rollback: 29 : INFO  回滚事物
2018-01-18 Thursday 08:56:52  db_transaction_util.py.db_transaction_util.rollback: 31 : INFO  事物已回滚
2018-01-18 Thursday 08:57:45  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 08:57:45')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 08:57:45  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 08:57:45  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:46  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 08:57:46  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:47  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 08:57:47  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 08:57:47  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 08:57:48  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:57:48  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:48  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:57:48  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:49  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 08:57:51  db_transaction_util.py.db_transaction_util.begin: 15 : INFO  事物已开启
2018-01-18 Thursday 08:57:51  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                INSERT INTO PAYMENT_DETAIL(
                                BUY_ID,
                                PAYMENT_METHOD,
                                PAID,
                                UNPAID,
                                CREATE_TIME,
                                CREATE_OP,
                                refund_type,
                                supplier_id,
                                note
                               )
                VALUES (
                         13,
                         1,
                        620.00,
                        0.00,
                        '2018-01-18 08:57:51',
                         1,
                         1,
                         0,
                        ''
                       )
2018-01-18 Thursday 08:57:51  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:51  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                UPDATE buy_info
                   SET paid = 620.00,
                       unpaid = 0.00,
                       note = ''
                 WHERE id = 13
2018-01-18 Thursday 08:57:51  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:51  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：update supplier
                     set unpaid = unpaid + -320.00
                   where id = 15
                
2018-01-18 Thursday 08:57:51  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:51  db_transaction_util.py.db_transaction_util.commit: 20 : INFO  提交事物
2018-01-18 Thursday 08:57:51  db_transaction_util.py.db_transaction_util.commit: 23 : INFO  事物已提交
2018-01-18 Thursday 08:57:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 08:57:52  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:57:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:57:52  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:58:29  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:58:29  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:58:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:58:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:58:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:58:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 08:58:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 08:58:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:23  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:35:23')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:35:23  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:35:23  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:35:24  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:35:24  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:25  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:35:25  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:26  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:35:26  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:35:26  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:35:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:35:27  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:35:28  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:28  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:35:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:35:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:35:37  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:35:37  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:35:37  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:37:48  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:37:48  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:38:02  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1)
                    FROM dictionary 
                   WHERE value_desc = 'payment'
                     and group_name = '京东支付'
2018-01-18 Thursday 09:38:02  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:27  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:39:27')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:39:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:39:27  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:39:28  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:39:28  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:30  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:39:30  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:31  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:39:31  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:39:31  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:39:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:39:33  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:33  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:39:33  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:33  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:39:34  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 1
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:39:34  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:38  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:39:38  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:39:45  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1)
                    FROM dictionary 
                   WHERE value_desc = 'payment'
                     and group_name = '京东支付'
2018-01-18 Thursday 09:39:45  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:27  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:42:27')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:42:27  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:42:27  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:42:28  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:42:28  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:29  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:42:29  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:29  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:42:29  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:42:29  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:42:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:42:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:31  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:42:31  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:31  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:42:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:42:35  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:42  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1) as num
                    FROM dictionary 
                   WHERE value_desc = '京东支付'
                     and group_name = 'payment'
2018-01-18 Thursday 09:42:42  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:42:42  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ifnull(MAX(KEY_ID),0) as key_id FROM dictionary WHERE group_name = 'payment'
2018-01-18 Thursday 09:42:42  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:16  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:43:16')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:43:16  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:43:16  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:17  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:43:17  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:17  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:43:17  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:43:18  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:43:19  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:43:19  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:19  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:43:19  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:19  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:43:22  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:43:22  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1) as num
                    FROM dictionary 
                   WHERE value_desc = '京东支付'
                     and group_name = 'payment'
2018-01-18 Thursday 09:43:27  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ifnull(MAX(KEY_ID),0) as key_id FROM dictionary WHERE group_name = 'payment'
2018-01-18 Thursday 09:43:27  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:43:27  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary(key_id,
                                         value_desc,
                                         group_name)
                  VALUES(6,'京东支付', 'payment')
2018-01-18 Thursday 09:43:27  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:09  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:44:09')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:44:09  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:44:09  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:44:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:44:10  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:11  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:44:11  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:11  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:44:11  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:44:11  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:44:13  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:44:13  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:13  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:44:13  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:13  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:44:15  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:44:15  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1) as num
                    FROM dictionary 
                   WHERE value_desc = '苏宁支付'
                     and group_name = 'payment'
2018-01-18 Thursday 09:44:23  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ifnull(MAX(KEY_ID),0) as key_id FROM dictionary WHERE group_name = 'payment'
2018-01-18 Thursday 09:44:23  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:44:23  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary(key_id,
                                         value_desc,
                                         group_name)
                  VALUES(7,'苏宁支付', 'payment')
2018-01-18 Thursday 09:44:23  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:35  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:45:35')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:45:35  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:45:35  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:45:36  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:45:36  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:38  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:45:38  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:38  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:45:38  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:45:38  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:45:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:45:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:41  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:45:41  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:41  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:45:44  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:45:44  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:53  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1) as num
                    FROM dictionary 
                   WHERE value_desc = '蚂蚁花呗'
                     and group_name = 'payment'
2018-01-18 Thursday 09:45:53  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:53  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ifnull(MAX(KEY_ID),0) as key_id FROM dictionary WHERE group_name = 'payment'
2018-01-18 Thursday 09:45:53  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:53  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary(key_id,
                                         value_desc,
                                         group_name)
                  VALUES(8,'蚂蚁花呗', 'payment')
2018-01-18 Thursday 09:45:53  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:59  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:45:59  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:45:59  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:45:59  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:47:52  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:47:52')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:47:52  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:47:52  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:47:53  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:47:53  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:47:54  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='amdin'
2018-01-18 Thursday 09:47:54  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:47:57  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:47:57  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:47:58  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:47:58  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:47:58  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:48:00  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:48:00  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:00  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:48:00  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:00  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:48:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:48:12  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:12  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:48:12  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:50  init_database.py.init_database.create_all_table: 353 : INFO  Opened database successfully
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Admin
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           userName VARCHAR(20) NOT NULL,
           pwd VARCHAR (32) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Admin already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE UNIQUE INDEX userName
              ON Admin (userName);
          
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userName already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO Admin (userName,pwd,createdTime) VALUES ('admin','e93a9a6047903bd088bd4ffee28fdee8','2018-01-18 09:48:50')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: Admin.userName
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE User
        (
          id          INTEGER PRIMARY KEY AUTOINCREMENT,
          userName    VARCHAR(20),
          carModel    VARCHAR(30),
          carPhone    VARCHAR(15),
          carId       VARCHAR(10),
          createdTime DATETIME
        )
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table User already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX carid ON User (carId)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index carid already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Device
          (id INTEGER PRIMARY KEY AUTOINCREMENT,
           createdTime DATETIME NOT NULL ,
           name VARCHAR (20) NOT NULL ,
           ip VARCHAR (20) NOT NULL ,
           state INT
          )
    
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Device already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX ip ON Device (ip)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index ip already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE TABLE Worker
           (id INTEGER PRIMARY KEY AUTOINCREMENT,
           workerName VARCHAR(20) NOT NULL,
           sex VARCHAR (4) NOT NULL ,
           idCard VARCHAR (20) NOT NULL ,
           createdTime DATETIME NOT NULL
           );
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Worker already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE dictionary
        (
          id         INTEGER NOT NULL,
          key_id     INT,
          value_desc VARCHAR(50),
          group_name VARCHAR(50)
        )
        
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table dictionary already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX dictionary_id_uindex ON dictionary (id)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index dictionary_id_uindex already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (1, 1, '进货', 'buy_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (2, 2, '退货', 'buy_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (3, 0, '进货库存', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (4, 1, '退货库存', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (5, 2, '核增库存', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (6, 3, '核减库存', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (7, 4, '正库存销售', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (8, 0, '已禁用', 'device_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (9, 1, '已启用', 'device_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (10, 0, '选填', 'is_required')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (11, 1, '必填', 'is_required')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (12, 8, '库存校准', 'buy_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (13, 5, '负库存销售', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (14, 6, '已销负销售', 'stock_type')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (15, 0, '正常', 'buy_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (16, 1, '待审核', 'buy_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (17, 2, '已作废', 'buy_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (18, 0, '待回访', 'visit_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (19, 1, '已回访', 'visit_state')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (20, 1, '一级服务项目', 'service_level')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary (id, key_id, value_desc, group_name) VALUES (21, 2, '二级服务项目', 'service_level')
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常UNIQUE constraint failed: dictionary.id
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE brand
        (
          id           INTEGER NOT NULL   PRIMARY KEY    AUTOINCREMENT,
          brand_name   VARCHAR(50),
          create_time  VARCHAR(30),
          create_op    VARCHAR(30),
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table brand already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE model
            (
              id           INTEGER NOT NULL   PRIMARY KEY       AUTOINCREMENT,
              model_name   VARCHAR(50),
              brand_id     INT,
              create_time  VARCHAR(30),
              create_op    VARCHAR(30),
              delete_state INT DEFAULT 0 NOT NULL
            )
            
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table model already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE Attributes
        (
          id           INTEGER     NOT NULL,
          name         VARCHAR(20) NOT NULL,
          is_required  INT DEFAULT 0,
          create_time  VARCHAR(50) NOT NULL,
          create_op    INT         NOT NULL,
          delete_state INT DEFAULT 0 NOT NULL
        )
        
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Attributes already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_id_uindex ON attributes (id);
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_id_uindex already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX serviceAttribute_name_uindex ON attributes (name)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index serviceAttribute_name_uindex already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service
        (
          id             INTEGER     PRIMARY KEY
          AUTOINCREMENT,
          createdTime    DATETIME    NOT NULL,
          name           VARCHAR(20) NOT NULL,
          father         INTEGER     NOT NULL,
          level          INT,
          attribute      VARCHAR(1000),
          attributeState VARCHAR(1000)
        )
    
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX father ON service (father, name)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index father already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE service_item
        (
          id             INTEGER NOT NULL,
          service_id     INTEGER,
          attribute_id   INTEGER,
          attribute_name VARCHAR(20),
          create_time    VARCHAR(50),
          create_op      INTEGER
        )
    
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table service_item already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX service_item_id_uindex ON service_item (id)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index service_item_id_uindex already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                CREATE TABLE stock_info
                (
                  id                  INTEGER NOT NULL
                    PRIMARY KEY
                  AUTOINCREMENT,
                  unit                VARCHAR(10),
                  first_service_name  VARCHAR(30),
                  first_service_id    INTEGER,
                  model_id            INTEGER,
                  model_name          VARCHAR(100),
                  brand_id            INTEGER,
                  brand_name          VARCHAR(100),
                  name                VARCHAR(150),
                  second_service_id   INTEGER,
                  second_service_name VARCHAR(50),
                  balance             INT,
                  total_cost          INT(18, 2),
                  create_time         VARCHAR(50),
                  create_op           INTEGER
                )
                
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_info already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
            CREATE TABLE stock_detail
            (
              Id          INTEGER NOT NULL
                PRIMARY KEY
              AUTOINCREMENT,
              stock_id    INTEGER,
              buy_id      INTEGER NOT NULL,
              buy_price   INT(10, 2),
              sale_price  INT(10, 2),
              state       INT(2)  NOT NULL,
              type        INT(2),
              update_time VARCHAR(50),
              update_op   INTEGER,
              sale_id     INTEGER
            )
            
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table stock_detail already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE buy_info
        (
          id          INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
          stock_id    VARCHAR(30),
          supplier_id INTEGER,
          unit_price  VARCHAR(30),
          number      VARCHAR(10),
          buy_date    VARCHAR(50),
          create_time VARCHAR(50),
          create_op   INTEGER,
          unpaid      INT(10, 2),
          paid        INT(10, 2),
          total       INT,
          rela_buy_id INTEGER,
          buy_type    INT,
          notes       VARCHAR(100),
          left_number INTEGER DEFAULT 0,
          state       INT     DEFAULT 0
        )
        
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table buy_info already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
        CREATE TABLE payment_detail
        (
          id             INTEGER NOT NULL,
          buy_id         INTEGER,
          payment_method INT,
          paid           INT(18, 2),
          unpaid         INT(18, 2),
          create_time    VARCHAR(50),
          create_op      VARCHAR(50),
          refund_type    INTEGER
        )
        
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table payment_detail already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE UNIQUE INDEX payment_detail_id_uindex ON payment_detail (id)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index payment_detail_id_uindex already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
          CREATE TABLE Sales
            (
              id           VARCHAR(35)    PRIMARY KEY,
              userId       INTEGER      NOT NULL,
              code         VARCHAR(100) NOT NULL,
              pcId         VARCHAR(32)  NOT NULL,
              pcSign       VARCHAR(32)  NOT NULL,
              service_id   INTEGER,
              project      VARCHAR(50)  NOT NULL,
              workerId     INTEGER      NOT NULL,
              workerName   VARCHAR(20)  NOT NULL,
              carId        VARCHAR(10)  NOT NULL,
              carUser      VARCHAR(50),
              carPhone     VARCHAR(50),
              carModel     VARCHAR(30),
              createdTime  DATETIME     NOT NULL,
              orderNo      VARCHAR(32)  NOT NULL,
              orderCheckId VARCHAR(32)  NOT NULL,
              unit         VARCHAR(20),
              unit_price   VARCHAR(30),
              number       INTEGER,
              subtotal     INTEGER,
              total        INTEGER,
              note         TEXT,
              sale_date    VARCHAR(50),
              attribute    TEXT
            )
            
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常table Sales already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX userId ON Sales (userId)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index userId already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE    INDEX    sales_service_ID    ON Sales(service_id)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_service_ID already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX sales_card_id ON Sales(carId)
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index sales_card_id already exists
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：CREATE INDEX createdTime ON Sales (createdTime);
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 71 : ERROR  SQL执行异常index createdTime already exists
2018-01-18 Thursday 09:48:50  init_database.py.init_database.create_all_table: 444 : INFO  Table created successfully
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT id,username,carId,phone,next_visit_time
                    FROM return_visit
                   WHERE state=0
                     AND next_visit_time <= '2018-01-18 23:59:59' 
                  ORDER BY create_time DESC 
2018-01-18 Thursday 09:48:50  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:52  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ID, USERNAME, PWD FROM Admin WHERE USERNAME='admin'
2018-01-18 Thursday 09:48:52  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:52  web.py.web.run_tornado: 26 : INFO  Web server 启动中...
2018-01-18 Thursday 09:48:52  socket.py.socket.server_handle: 23 : INFO  客户端线程已经启动 , 等待其它客户端连接
2018-01-18 Thursday 09:48:52  web.py.web.run_tornado: 28 : INFO  Web server 已启动，监听端口：15775
2018-01-18 Thursday 09:48:54  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:48:54  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:54  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:48:54  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:48:54  main_view.py.main_view._tab_show: 271 : INFO  add tab：supplier_arrears
2018-01-18 Thursday 09:48:59  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT key_id,
                       value_desc
                  FROM dictionary
                 WHERE group_name = 'payment'
                 GROUP BY value_desc
2018-01-18 Thursday 09:48:59  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT count(1) as num
                    FROM dictionary 
                   WHERE value_desc = '京东白条'
                     and group_name = 'payment'
2018-01-18 Thursday 09:49:10  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：SELECT ifnull(MAX(KEY_ID),0) as key_id FROM dictionary WHERE group_name = 'payment'
2018-01-18 Thursday 09:49:10  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:49:10  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：INSERT INTO dictionary(key_id,
                                         value_desc,
                                         group_name)
                  VALUES(9,'京东白条', 'payment')
2018-01-18 Thursday 09:49:10  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:49:13  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
                SELECT
                       id,
                       supplier_name,
                       sp.unpaid
                  FROM supplier sp
                 WHERE sp.unpaid > 0.0
                 GROUP BY id, supplier_name
                 ORDER BY supplier_name
2018-01-18 Thursday 09:49:13  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
2018-01-18 Thursday 09:49:13  db_connection.py.db_connection.execute: 49 : INFO  执行SQL脚本：
               SELECT
                      bi.buy_date,                      
                      si.brand_name,
                      si.model_name,
                      bi.number,
                      si.unit,
                      bi.unit_price,
                      bi.total,
                      bi.paid,
                      bi.unpaid,
                      bi.id
                 FROM buy_info bi, stock_info si, supplier sl
                WHERE bi.stock_id = si.id
                  AND bi.supplier_id = sl.id
                  AND bi.unpaid > 0.0
                  AND sl.id = 15
                  AND bi.buy_type = 1
                ORDER BY buy_date
2018-01-18 Thursday 09:49:13  db_connection.py.db_connection.execute: 65 : INFO  SQL执行成功
